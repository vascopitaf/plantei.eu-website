{{> formErrors}}
{{> modal_seedpreview }}
<form class="form-horizontal" role="form" enctype="multipart/form-data" method="POST" action="/seedbank/register" {{#if preview}}style="display: none;"{{/if}}>
  <input type="hidden" name="_token" value="{{ csrfToken }}">
  <input type="hidden" name="_id" value="{{ oldInput.id }}">
  <input type="hidden" name="seed_id" value="{{ oldInput.id }}">
  <input type="hidden" name="_saved" value="1">
  <div class="row">
    <div class="col-md-12">
      <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true" style="color: black;">
        <div class="panel panel-default"><!-- Accordion Identification -->
          <div class="panel-heading" role="tab" id="headingIdentification">
            <h4 class="panel-title">
              <a role="button" data-toggle="collapse" href="#identification" aria-expanded="true" aria-controls="collapseIdentification">
                {{lang 'seedbank::messages.identification' }}
              </a>
            </h4>
          </div>
          <div id="identification" class="panel-collapse collapse in" data-parent="#accordion" role="tabpanel" aria-labelledby="headingIdentification">
            <div class="panel-body">
              {{#with oldInput }}
              <div class="row">
                <div class="col-md-12">
                  <div class="form-group">
                    <label class="control-label">{{lang 'seedbank::messages.common_name'}}*</label>
                    <span class="cell">
                      <input type="text" class="form-control" aria-describedby="helpBlock" placeholder="" name="common_name" value="{{lang 'seedbank::messages.common_name'}}" autocomplete="off">
                      <span class="help-block"></span>
                    </span>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-8">
                  <div class="form-group">
                    <label class="control-label">{{lang 'seedbank::messages.latin_name'}}</label>
                    <span class="cell">
                      <input type="text" class="form-control" aria-describedby="helpBlock" placeholder="" name="latin_name" value="{{ latin_name }}" autocomplete="off">
                      <span class="help-block"></span>
                    </span>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label class="control-label">{{lang 'seedbank::messages.yearcollected'}}</label>
                    <span class="cell">
                      <input type="text" class="form-control" aria-describedby="helpBlock" placeholder="" name="year" value="{{ year }}" autocomplete="off">
                      <span class="help-block"></span>
                    </span>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-7">
                  <div class="form-group">
                    <label class="control-label">{{lang 'seedbank::messages.sitecollected'}}</label>
                    <span class="cell"><input type="text" class="form-control" name="local" value="{{ local }}" autocomplete="off"></span>
                  </div>
                </div>
                <div class="col-md-5">
                  <div class="form-group">
                    <label class="control-label">{{lang 'seedbank::forms.quantity'}}</label>
                    <input type="number" value="{{quantity}}" class="form-control" name="quantity" style="width: 48%; float: left; margin-right: 6px;">
                    <div class="select-style">
                      <select value="gr" name="units"{{#unless quantity}} disabled{{/unless}}>
                        <option value="gr">gr.</option>
                        <option value="unit">unid.</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <label class="control-label up">{{lang 'seedbank::forms.youcollected'}}?</label><br/>
                    <span class="cell btn-group" data-toggle="buttons">
                      <label class="btn btn-default {{#if origin.1}}active{{/if}}">
                        <input type="radio" name="origin"{{#if origin.1}} checked{{/if}} value="1" /> {{lang 'seedbank::messages.yes'}}
                      </label>
                      <label class="btn btn-default no{{#unless origin.1}} active{{/unless}}">
                        <input type="radio" name="origin"{{#unless origin.1}} checked{{/unless}}/> {{lang 'seedbank::messages.no'}}
                      </label>
                      <div class="select-style">
                        <select name="origin"{{#if origin.1}} disabled{{/if}}>
                          <option value="0">{{lang 'seedbank::forms.origin'}}</option>
                          <option value="2"{{#if origin.2}} selected{{/if}}>{{lang 'seedbank::forms.barter'}}</option>
                          <option value="3"{{#if origin.3}} selected{{/if}}>{{lang 'seedbank::forms.bought'}}</option>
                          <!--option value="">{{lang 'seedbank::forms.ownproduction'}}</option -->
                        </select>
                      </div>
                    </span>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label class="control-label up">{{lang 'seedbank::forms.availableforswap'}}?</label>
                    <span class="cell btn-group" data-toggle="buttons">
                      <label class="btn btn-default{{#if available}} active{{/if}}">
                        <input type="radio" name="available"{{#if available}} checked{{/if}} value="true" /> {{lang 'seedbank::messages.yes'}}
                      </label>
                      <label class="btn btn-default no{{#unless available}} active{{/unless}}">
                        <input type="radio" name="available"{{#unless available}} checked{{/unless}} value="false" /> {{lang 'seedbank::messages.no'}}
                      </label>
                    </span>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <label class="control-label up">{{lang 'seedbank::forms.type'}}</label>
                  <div class="radio">
                    <label>
                      <input type="radio" name="seedtype" value="true"{{#if seedtype}} checked{{/if}}>
                      <span class="cr"></span>
                      {{lang 'seedbank::forms.seed'}}
                    </label>
                  </div>
                  <div class="radio">
                    <label>
                      <input type="radio" name="seedtype" value="false" {{#unless seedtype}} checked{{/unless}}>
                      <span class="cr"></span>
                      {{lang 'seedbank::forms.notseed'}}
                    </label>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label class="control-label up">{{lang 'seedbank::forms.traditional'}}</label><br/>
                    <span class="cell btn-group" data-toggle="buttons">
                      <label class="btn btn-default{{#unless traditionalrisk.0}} active{{/unless}}">
                        <input type="radio" name=traditionalrisk value="1"{{#unless traditionalrisk.0}} checked{{/unless}} value="1"/> {{lang 'seedbank::messages.yes'}}
                      </label>
                      <label class="btn btn-default no{{#if traditionalrisk.0}} active{{/if}}">
                        <input type="radio" name="traditionalrisk"{{#if traditionalrisk.0}} checked{{/if}} value="0" /> {{lang 'seedbank::messages.no'}}
                      </label>
                      <div class="select-style">
                        <select name="traditionalrisk"{{#unless traditional}} disabled{{/unless}}>
                          <option value="1">{{lang 'seedbank::forms.risk'}}</option>
                          <option value="1"{{#if traditionalrisk.1}} selected{{/if}}>{{lang 'seedbank::forms.risklow'}}</option>
                          <option value="2"{{#if traditionalrisk.2}} selected{{/if}}>{{lang 'seedbank::forms.riskmedium'}}</option>
                          <option value="3"{{#if traditionalrisk.3}} selected{{/if}}>{{lang 'seedbank::forms.riskhigh'}}</option>
                        </select>
                      </div>
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div><!-- END Accordion Identification -->
        <div class="panel panel-default"><!-- Accordion Pictures -->
          <div class="panel-heading" role="tab" id="headingPictures">
            <h4 class="panel-title">
              <a role="button" data-toggle="collapse" href="#pictures" aria-expanded="false" aria-controls="collapsePictures">
                {{lang 'seedbank::messages.pictures'}}
              </a>
            </h4>
          </div>
          <div id="pictures" class="panel-collapse collapse" data-parent="#accordion" role="tabpanel" aria-labelledby="headingPictures">
            <div class="panel-body">
              <div class="form-group">
                <div id="files" class="files">
                  {{#each pictures}}
                  <div class="col-md-4">
                    <div class="img-content">
                      <img src="{{url}}" alt="{{label}}" data-file-id="{{id}}" class="img-responsive">
                      <button type="button" class="btn btn-danger delete" data-type="GET" data-md5sum="{{md5sum}}" data-delete-url="/seedbank/pictures/delete/{{id}}">{{../../messages.delete}}</button>
                    </div>
                  </div>
                  {{/each}}
                  <div class="col-md-4">
                    <div class="img-content">
                      <span class="btn btn-success fileinput-button">
                        <i class="glyphicon glyphicon-plus"></i>
                        <span>{{lang 'seedbank::forms.addimages'}}</span>
                        <!-- The file input field used as target for the file upload widget -->
                        <input id="fileupload" type="file" name="pictures[]" multiple>
                        <!-- The global progress bar -->
                        <div id="progress" class="progress" style="display:none;">
                          <div class="progress-bar progress-bar-success"></div>
                        </div>
                        <!-- The container for the uploaded files -->
                      </span>

                    </div>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div><!-- END Accordion Pictures -->
        <div class="panel panel-default"><!-- Accordion Farming -->
          <div class="panel-heading" role="tab" id="headingFarming">
            <h4 class="panel-title">
              <a role="button" data-toggle="collapse" href="#farming" aria-expanded="false" aria-controls="collapseFarming">
                {{lang 'seedbank::messages.farming'}}
              </a>
            </h4>
          </div>
          <div id="farming" class="panel-collapse collapse" data-parent="#accordion" role="tabpanel" aria-labelledby="headingFarming">
            <div class="panel-body">
              <div class="row">
                <label class="control-label col-md-12 up">{{lang 'seedbank::messages.farmingmonths'}}</label>
                <span class="cell btn-group col-md-12"  data-toggle="buttons" >
                  <label class="btn btn-default col-md-1 {{#if ../monthstable.0}}active{{/if}}">
                    <input type="checkbox" name="months[]" {{#if ../monthstable.0}}checked{{/if}} value="1" /> {{lang 'seedbank::messages.monthjan'}}
                  </label>
                  <label class="btn btn-default col-md-1 {{#if ../monthstable.1}}active{{/if}}">
                    <input type="checkbox" name="months[]" {{#if ../monthstable.1}}checked{{/if}} value="2" /> {{lang 'seedbank::messages.monthfeb'}}
                  </label>
                  <label class="btn btn-default col-md-1 {{#if ../monthstable.2}}active{{/if}}">
                    <input type="checkbox" name="months[]" {{#if ../monthstable.2}}checked{{/if}} value="3" /> {{lang 'seedbank::messages.monthmar'}}
                  </label>
                  <label class="btn btn-default col-md-1 {{#if ../monthstable.3}}active{{/if}}">
                    <input type="checkbox" name="months[]" {{#if ../monthstable.3}}checked{{/if}} value="4" /> {{lang 'seedbank::messages.monthapr'}}
                  </label>
                  <label class="btn btn-default col-md-1 {{#if ../monthstable.4}}active{{/if}}">
                    <input type="checkbox" name="months[]" {{#if ../monthstable.4}}checked{{/if}} value="5" /> {{lang 'seedbank::messages.monthmay'}}
                  </label>
                  <label class="btn btn-default col-md-1 {{#if ../monthstable.5}}active{{/if}}">
                    <input type="checkbox" name="months[]" {{#if ../monthstable.5}}checked{{/if}} value="6" /> {{lang 'seedbank::messages.monthjun'}}
                  </label>
                  <label class="btn btn-default col-md-1 {{#if ../monthstable.6}}active{{/if}}">
                    <input type="checkbox" name="months[]" {{#if ../monthstable.6}}checked{{/if}} value="7" /> {{lang 'seedbank::messages.monthjul'}}
                  </label>
                  <label class="btn btn-default col-md-1 {{#if ../monthstable.7}}active{{/if}}">
                    <input type="checkbox" name="months[]" {{#if ../monthstable.7}}checked{{/if}} value="8" /> {{lang 'seedbank::messages.monthaug'}}
                  </label>
                  <label class="btn btn-default col-md-1 {{#if ../monthstable.8}}active{{/if}}">
                    <input type="checkbox" name="months[]" {{#if ../monthstable.8}}checked{{/if}} value="9" /> {{lang 'seedbank::messages.monthsep'}}
                  </label>
                  <label class="btn btn-default col-md-1 {{#if ../monthstable.9}}active{{/if}}">
                    <input type="checkbox" name="months[]" {{#if ../monthstable.9}}checked{{/if}} value="10" /> {{lang 'seedbank::messages.monthoct'}}
                  </label>
                  <label class="btn btn-default col-md-1 {{#if ../monthstable.10}}active{{/if}}">
                    <input type="checkbox" name="months[]" {{#if ../monthstable.10}}checked{{/if}} value="11" /> {{lang 'seedbank::messages.monthnov'}}
                  </label>
                  <label class="btn btn-default col-md-1 {{#if ../monthstable.11}}active{{/if}}">
                    <input type="checkbox" name="months[]" {{#if ../monthstable.11}}checked{{/if}} value="12" /> {{lang 'seedbank::messages.monthdec'}}
                  </label>
                </span>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <label class="control-label up">{{lang 'seedbank::messages.directseeding'}}
                    <div class="help-box">
                      <p class="help-btn">
                        <span class="caret"></span>
                      </p>
                      <div class="help-text">
                        <p><span class="caret"></span><br/>{{lang 'seedbank::forms.directseedinghelp'}}</p>
                      </div>
                    </div>
                  </label>
                  <span class="cell btn-group" data-toggle="buttons">
                    <label class="btn btn-default {{#if direct}}active{{/if}}">
                      <input type="radio" name="direct" value="true" /> {{lang 'seedbank::messages.yes'}}
                    </label>
                    <label class="btn btn-default no {{#unless direct}}active{{/unless}}">
                      <input type="radio" name="direct" value="false" /> {{lang 'seedbank::messages.no'}}
                    </label>
                  </span>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                      <label class="control-label">{{choice 'seedbank::forms.untilharvest' 2 months=empty}}</label>
                      <input type="number" value="{{untilharvest}}" class="form-control" name="untilharvest">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="form-group">
                  <label class="col-md-12"><h4>{{lang 'seedbank::forms.descriptionmoreinfo'}}</h4></label>
                  <span class="cell col-md-12">
                    <textarea style="resize:none; overflow:hidden;" class="form-control" rows="8" autocomplete="off" placeholder="{{lang 'seedbank::messages.description'}}" name="description">{{description}}</textarea>
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div><!-- END Accordion Farming -->
      </div>
    </div>
  {{/with}}
  </div>
  <div class="row">
    <div class="form-group lmt">
      <div class="col-md-12 text-center">
        <button type="button" class="btn btn-danger btn-lg" id="cancel_seed">
          {{lang 'seedbank::messages.registercancel'}}
        </button>
        <button type="submit" class="btn btn-primary btn-lg">
          {{#if update}}{{lang 'seedbank::messages.updateseed'}}{{ else }}{{lang 'seedbank::messages.registerseed'}}{{/if}}
        </button>
      </div>
    </div>
  </div>
</form>
